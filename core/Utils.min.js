var Utils=new function(){this.clone=function(b){if(b==null||!Is.object(b)){return b;}var c={};for(var d in b){if(b.hasOwnProperty(d)){c[d]=Utils.clone(b[d]);}}return c;};this.defaultValue=function(b,c){c=(!Is.defined(c))?false:c;if(!Is.defined(b)){return c;}return b;};this.toJSONString=function(b){var c='"',d=typeof (b);if(d!="object"||b===null){if(d=="string")b=c+b+c;return String(b);}else{var f,e,g=[],m=(b&&b.constructor==Array);for(f in b){e=b[f];d=typeof (e);if(d=="string")e=c+e+c;else if(d=="object"&&e!==null)e=this.toJSONString(e);g.push((m?"":c+f+'":')+String(e));}return (m?"[":"{")+String(g)+(m?"]":"}");}};this.trim=function(d,f){var e=function(b,c){b=b.toString();c=c||"\\s";return b.replace(new RegExp("^["+c+"]+","g"),"");},g=function(b,c){b=b.toString();c=c||"\\s";return b.replace(new RegExp("["+c+"]+$","g"),"");};if(d){return e(g(d.toString(),f),f);}return d;};this.roundNumber=function(b,c){var d=Math.round(b*Math.pow(10,c))/Math.pow(10,c);return d;};this.calcNewImageSize=function(b,c,d,f,e){finalHeight=f;finalWidth=d;if(!Is.defined(e)){var e=false;if(b>c){e="W";}else if(b<c){e="H";}else{e="H";}if(d=="auto"){e="H";}if(f=="auto"){e="W";}}if(e=='H'){d=Utils.roundNumber(f*(b/c),0);f=finalHeight;}else if(e=='W'){f=Utils.roundNumber(d*(c/b),0);d=finalWidth;}return {ratio:e,h:f,w:d};};};
